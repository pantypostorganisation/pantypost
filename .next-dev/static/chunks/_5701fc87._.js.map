{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/src/utils/banUtils.tsx"],"sourcesContent":["// src/utils/banUtils.tsx\r\nimport { \r\n  AlertTriangle, \r\n  MessageSquare, \r\n  AlertCircle, \r\n  UserCheck, \r\n  Info \r\n} from 'lucide-react';\r\nimport { BanEntry, BanReason } from '@/types/ban';\r\nimport { sanitizeStrict } from '@/utils/security/sanitization';\r\n\r\nexport const getBanReasonDisplay = (reason: string, customReason?: string) => {\r\n  if (!reason || typeof reason !== 'string') {\r\n    return 'Unknown Reason';\r\n  }\r\n\r\n  const reasonMap: Record<string, { label: string, icon: any, color: string }> = {\r\n    harassment: { label: 'Harassment', icon: AlertTriangle, color: 'text-red-400' },\r\n    spam: { label: 'Spam', icon: MessageSquare, color: 'text-yellow-400' },\r\n    inappropriate_content: { label: 'Inappropriate Content', icon: AlertCircle, color: 'text-orange-400' },\r\n    scam: { label: 'Scam/Fraud', icon: AlertTriangle, color: 'text-red-500' },\r\n    underage: { label: 'Underage', icon: UserCheck, color: 'text-purple-400' },\r\n    payment_fraud: { label: 'Payment Fraud', icon: AlertTriangle, color: 'text-red-600' },\r\n    other: { label: 'Other', icon: Info, color: 'text-gray-400' }\r\n  };\r\n\r\n  const reasonInfo = reasonMap[reason.toLowerCase()] || { label: reason, icon: Info, color: 'text-gray-400' };\r\n  const Icon = reasonInfo.icon;\r\n\r\n  // Sanitize customReason before display to prevent XSS\r\n  const sanitizedCustomReason = customReason ? sanitizeStrict(customReason) : undefined;\r\n\r\n  return (\r\n    <span className={`flex items-center gap-1 ${reasonInfo.color}`}>\r\n      <Icon size={14} />\r\n      {reasonInfo.label}\r\n      {sanitizedCustomReason && <span className=\"text-gray-400 ml-1\">- {sanitizedCustomReason}</span>}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport const isValidBan = (ban: any): ban is BanEntry => {\r\n  return ban && \r\n         typeof ban === 'object' && \r\n         ban.id && \r\n         ban.username && \r\n         typeof ban.username === 'string' &&\r\n         ban.banType &&\r\n         ban.reason &&\r\n         ban.startTime &&\r\n         typeof ban.bannedBy === 'string'; // Changed to check type instead of truthiness\r\n};\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;AACzB;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AAEO,MAAM,sBAAsB,CAAC,QAAgB;IAClD,IAAI,CAAC,UAAU,OAAO,WAAW,UAAU;QACzC,OAAO;IACT;IAEA,MAAM,YAAyE;QAC7E,YAAY;YAAE,OAAO;YAAc,MAAM,2NAAA,CAAA,gBAAa;YAAE,OAAO;QAAe;QAC9E,MAAM;YAAE,OAAO;YAAQ,MAAM,2NAAA,CAAA,gBAAa;YAAE,OAAO;QAAkB;QACrE,uBAAuB;YAAE,OAAO;YAAyB,MAAM,uNAAA,CAAA,cAAW;YAAE,OAAO;QAAkB;QACrG,MAAM;YAAE,OAAO;YAAc,MAAM,2NAAA,CAAA,gBAAa;YAAE,OAAO;QAAe;QACxE,UAAU;YAAE,OAAO;YAAY,MAAM,mNAAA,CAAA,YAAS;YAAE,OAAO;QAAkB;QACzE,eAAe;YAAE,OAAO;YAAiB,MAAM,2NAAA,CAAA,gBAAa;YAAE,OAAO;QAAe;QACpF,OAAO;YAAE,OAAO;YAAS,MAAM,qMAAA,CAAA,OAAI;YAAE,OAAO;QAAgB;IAC9D;IAEA,MAAM,aAAa,SAAS,CAAC,OAAO,WAAW,GAAG,IAAI;QAAE,OAAO;QAAQ,MAAM,qMAAA,CAAA,OAAI;QAAE,OAAO;IAAgB;IAC1G,MAAM,OAAO,WAAW,IAAI;IAE5B,sDAAsD;IACtD,MAAM,wBAAwB,eAAe,CAAA,GAAA,2IAAA,CAAA,iBAAc,AAAD,EAAE,gBAAgB;IAE5E,qBACE,6LAAC;QAAK,WAAW,AAAC,2BAA2C,OAAjB,WAAW,KAAK;;0BAC1D,6LAAC;gBAAK,MAAM;;;;;;YACX,WAAW,KAAK;YAChB,uCAAyB,6LAAC;gBAAK,WAAU;;oBAAqB;oBAAG;;;;;;;;;;;;;AAGxE;AAEO,MAAM,aAAa,CAAC;IACzB,OAAO,OACA,OAAO,QAAQ,YACf,IAAI,EAAE,IACN,IAAI,QAAQ,IACZ,OAAO,IAAI,QAAQ,KAAK,YACxB,IAAI,OAAO,IACX,IAAI,MAAM,IACV,IAAI,SAAS,IACb,OAAO,IAAI,QAAQ,KAAK,UAAU,8CAA8C;AACzF","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/src/components/admin/bans/BanCard.tsx"],"sourcesContent":["// src/components/admin/bans/BanCard.tsx\r\n'use client';\r\n\r\nimport { Eye, MessageSquare, UserCheck, Infinity as InfinityIcon } from 'lucide-react';\r\nimport { BanEntry } from '@/types/ban';\r\nimport { getBanReasonDisplay } from '@/utils/banUtils';\r\nimport { SecureMessageDisplay } from '@/components/ui/SecureMessageDisplay';\r\n\r\ninterface BanCardProps {\r\n  ban: BanEntry;\r\n  isExpanded: boolean;\r\n  onToggleExpand: (banId: string) => void;\r\n  onUnban: (ban: BanEntry) => void;\r\n  onReviewAppeal: (ban: BanEntry) => void;\r\n  onShowEvidence: (evidence: string[]) => void;\r\n}\r\n\r\nconst formatRemainingTime = (ban: BanEntry) => {\r\n  if (!ban || typeof ban !== 'object') return 'Unknown';\r\n\r\n  if (ban.banType === 'permanent') {\r\n    return (\r\n      <span className=\"flex items-center gap-1 text-red-400\">\r\n        <InfinityIcon size={14} /> Permanent\r\n      </span>\r\n    );\r\n  }\r\n\r\n  if (!ban.remainingHours || ban.remainingHours <= 0) {\r\n    return <span className=\"text-gray-500\">Expired</span>;\r\n  }\r\n\r\n  const hours = Number(ban.remainingHours);\r\n  if (hours < 1) {\r\n    const minutes = Math.ceil(hours * 60);\r\n    return <span className=\"text-yellow-400\">{minutes}m remaining</span>;\r\n  }\r\n\r\n  if (hours < 24) {\r\n    return <span className=\"text-orange-400\">{Math.ceil(hours)}h remaining</span>;\r\n  }\r\n\r\n  const days = Math.floor(hours / 24);\r\n  const remainingHours = Math.ceil(hours % 24);\r\n  return <span className=\"text-red-400\">{days}d {remainingHours}h remaining</span>;\r\n};\r\n\r\nexport default function BanCard({\r\n  ban,\r\n  isExpanded,\r\n  onToggleExpand,\r\n  onUnban,\r\n  onReviewAppeal,\r\n  onShowEvidence,\r\n}: BanCardProps) {\r\n  // Build a definite evidence list (no non-null assertions)\r\n  const evidenceList: string[] = Array.isArray(ban.appealEvidence)\r\n    ? ban.appealEvidence.filter((x): x is string => typeof x === 'string')\r\n    : [];\r\n  const hasEvidence = evidenceList.length > 0;\r\n\r\n  return (\r\n    <div className=\"bg-[#1a1a1a] border border-gray-800 rounded-lg p-6 hover:border-gray-700 transition-colors\">\r\n      <div className=\"flex justify-between items-start\">\r\n        <div className=\"flex-1\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <h3 className=\"text-lg font-semibold text-white\">\r\n              <SecureMessageDisplay content={ban.username} allowBasicFormatting={false} />\r\n            </h3>\r\n            <span\r\n              className={`px-2 py-1 text-xs rounded font-medium ${\r\n                ban.banType === 'permanent'\r\n                  ? 'bg-red-900/20 text-red-400'\r\n                  : 'bg-orange-900/20 text-orange-400'\r\n              }`}\r\n            >\r\n              {ban.banType}\r\n            </span>\r\n            {ban.appealSubmitted && (\r\n              <span className=\"px-2 py-1 bg-blue-900/20 text-blue-400 text-xs rounded font-medium\">\r\n                Appeal {ban.appealStatus ?? 'Pending'}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"text-sm text-gray-400 mb-2\">\r\n            <span>Reason: </span>\r\n            <span className=\"text-gray-300\">\r\n              {getBanReasonDisplay(ban.reason, ban.customReason)}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"text-sm text-gray-400\">\r\n            <span>Duration: </span>\r\n            {formatRemainingTime(ban)}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col gap-2 ml-4\">\r\n          <button\r\n            onClick={() => onToggleExpand(ban.id)}\r\n            className=\"px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700 flex items-center transition-colors\"\r\n          >\r\n            <Eye size={12} className=\"mr-1\" />\r\n            {isExpanded ? 'Less' : 'More'}\r\n          </button>\r\n\r\n          {ban.appealSubmitted && ban.appealStatus === 'pending' && (\r\n            <button\r\n              onClick={() => onReviewAppeal(ban)}\r\n              className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center transition-colors\"\r\n            >\r\n              <MessageSquare size={12} className=\"mr-1\" />\r\n              Review\r\n            </button>\r\n          )}\r\n\r\n          <button\r\n            onClick={() => onUnban(ban)}\r\n            className=\"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700 flex items-center transition-colors\"\r\n          >\r\n            <UserCheck size={12} className=\"mr-1\" />\r\n            Unban\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {isExpanded && (\r\n        <div className=\"mt-4 pt-4 border-t border-gray-700\">\r\n          <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n            <div>\r\n              <span className=\"text-gray-400\">Start Time:</span>\r\n              <div className=\"text-gray-300\">{new Date(ban.startTime).toLocaleString()}</div>\r\n            </div>\r\n            <div>\r\n              <span className=\"text-gray-400\">Banned By:</span>\r\n              <div className=\"text-gray-300\">\r\n                <SecureMessageDisplay content={ban.bannedBy ?? 'Unknown'} allowBasicFormatting={false} />\r\n              </div>\r\n            </div>\r\n            {ban.endTime && (\r\n              <div>\r\n                <span className=\"text-gray-400\">End Time:</span>\r\n                <div className=\"text-gray-300\">{new Date(ban.endTime).toLocaleString()}</div>\r\n              </div>\r\n            )}\r\n            {ban.notes && (\r\n              <div className=\"col-span-2\">\r\n                <span className=\"text-gray-400\">Notes:</span>\r\n                <div className=\"text-gray-300 mt-1\">\r\n                  <SecureMessageDisplay content={ban.notes} allowBasicFormatting={false} maxLength={500} />\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {ban.appealSubmitted && (\r\n            <div className=\"mt-4 p-3 bg-blue-900/10 border border-blue-800 rounded\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <div className=\"text-sm text-blue-400 font-medium\">Appeal Submitted</div>\r\n\r\n                {hasEvidence && (\r\n                  <button\r\n                    onClick={() => onShowEvidence(evidenceList)}\r\n                    className=\"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1 transition-colors\"\r\n                  >\r\n                    <span className=\"w-2 h-2 bg-blue-400 rounded\"></span>\r\n                    {evidenceList.length} Evidence\r\n                  </button>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"text-sm text-gray-300\">\r\n                <SecureMessageDisplay\r\n                  content={ban.appealText ?? 'No appeal text provided'}\r\n                  allowBasicFormatting={false}\r\n                  maxLength={500}\r\n                />\r\n              </div>\r\n              <div className=\"text-xs text-gray-500 mt-1\">\r\n                {ban.appealDate ? new Date(ban.appealDate).toLocaleString() : 'Unknown date'}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 598, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/src/components/admin/bans/ActiveBansContent.tsx"],"sourcesContent":["// src/components/admin/bans/ActiveBansContent.tsx\r\n'use client';\r\n\r\nimport { useMemo } from 'react';\r\nimport { UserCheck } from 'lucide-react';\r\nimport BanCard from './BanCard';\r\nimport { FilterOptions } from '@/types/ban';\r\nimport { UserBan } from '@/context/BanContext';\r\nimport { isValidBan } from '@/utils/banUtils';\r\nimport { sanitizeSearchQuery, sanitizeStrict } from '@/utils/security/sanitization';\r\nimport { SecureMessageDisplay } from '@/components/ui/SecureMessageDisplay';\r\n\r\ninterface ActiveBansContentProps {\r\n  activeBans: UserBan[];\r\n  filters: FilterOptions;\r\n  totalCount: number;\r\n  expandedBans: Set<string>;\r\n  onToggleExpand: (banId: string) => void;\r\n  onUnban: (ban: UserBan) => void;\r\n  onReviewAppeal: (ban: UserBan) => void;\r\n  onShowEvidence: (evidence: string[]) => void;\r\n}\r\n\r\nconst VALID_SORT_OPTIONS = ['username', 'duration', 'date'] as const;\r\nconst VALID_FILTER_OPTIONS = ['all', 'temporary', 'permanent'] as const;\r\nconst VALID_SORT_ORDERS = ['asc', 'desc'] as const;\r\n\r\nfunction filterAndSortBans(bans: UserBan[], filters: FilterOptions): UserBan[] {\r\n  if (!Array.isArray(bans)) return [];\r\n\r\n  const sanitizedSearchTerm = filters.searchTerm ? sanitizeSearchQuery(filters.searchTerm) : '';\r\n  const validatedSortBy = VALID_SORT_OPTIONS.includes(filters.sortBy as any) ? filters.sortBy : 'date';\r\n  const validatedFilterBy = VALID_FILTER_OPTIONS.includes(filters.filterBy as any) ? filters.filterBy : 'all';\r\n  const validatedSortOrder = VALID_SORT_ORDERS.includes(filters.sortOrder as any) ? filters.sortOrder : 'desc';\r\n\r\n  const filtered = bans.filter((ban) => {\r\n    if (!isValidBan(ban)) return false;\r\n\r\n    const sanitizedUsername = sanitizeStrict(ban.username || '').toLowerCase();\r\n    const sanitizedReason = sanitizeStrict(ban.reason || '').toLowerCase();\r\n    const sanitizedCustomReason = sanitizeStrict(ban.customReason || '').toLowerCase();\r\n    const searchTermLower = sanitizedSearchTerm.toLowerCase();\r\n\r\n    const matchesSearch = sanitizedSearchTerm\r\n      ? sanitizedUsername.includes(searchTermLower) ||\r\n        sanitizedReason.includes(searchTermLower) ||\r\n        sanitizedCustomReason.includes(searchTermLower)\r\n      : true;\r\n\r\n    const matchesFilter =\r\n      validatedFilterBy === 'all'\r\n        ? true\r\n        : validatedFilterBy === 'temporary'\r\n        ? ban.banType === 'temporary'\r\n        : ban.banType === 'permanent';\r\n\r\n    return matchesSearch && matchesFilter;\r\n  });\r\n\r\n  filtered.sort((a, b) => {\r\n    let comparison = 0;\r\n    switch (validatedSortBy) {\r\n      case 'username': {\r\n        const usernameA = sanitizeStrict(a.username || '');\r\n        const usernameB = sanitizeStrict(b.username || '');\r\n        comparison = usernameA.localeCompare(usernameB);\r\n        break;\r\n      }\r\n      case 'duration': {\r\n        const aDuration = a.banType === 'permanent' ? Number.POSITIVE_INFINITY : Number(a.remainingHours) || 0;\r\n        const bDuration = b.banType === 'permanent' ? Number.POSITIVE_INFINITY : Number(b.remainingHours) || 0;\r\n        comparison = aDuration - bDuration;\r\n        break;\r\n      }\r\n      case 'date':\r\n      default: {\r\n        const dateA = new Date(a.startTime || 0).getTime();\r\n        const dateB = new Date(b.startTime || 0).getTime();\r\n        comparison = isNaN(dateA) || isNaN(dateB) ? 0 : dateA - dateB;\r\n        break;\r\n      }\r\n    }\r\n    return validatedSortOrder === 'asc' ? comparison : -comparison;\r\n  });\r\n\r\n  return filtered;\r\n}\r\n\r\nexport default function ActiveBansContent({\r\n  activeBans,\r\n  filters,\r\n  totalCount,\r\n  expandedBans,\r\n  onToggleExpand,\r\n  onUnban,\r\n  onReviewAppeal,\r\n  onShowEvidence,\r\n}: ActiveBansContentProps) {\r\n  const validatedTotalCount = Number.isInteger(totalCount) && totalCount >= 0 ? totalCount : 0;\r\n\r\n  const filteredBans = useMemo(() => filterAndSortBans(activeBans, filters), [activeBans, filters]);\r\n\r\n  console.log('[ActiveBansContent] Rendering:', {\r\n    receivedBans: Array.isArray(activeBans) ? activeBans.length : 0,\r\n    filteredBans: filteredBans.length,\r\n    totalCount: validatedTotalCount,\r\n  });\r\n\r\n  const headerCount =\r\n    filteredBans.length !== validatedTotalCount\r\n      ? `${filteredBans.length} of ${validatedTotalCount}`\r\n      : `${validatedTotalCount}`;\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-xl font-semibold text-white\">Active Bans ({headerCount})</h2>\r\n        {validatedTotalCount > 0 && <p className=\"text-sm text-gray-400\">Click on a ban to expand details</p>}\r\n      </div>\r\n\r\n      {filteredBans.length === 0 ? (\r\n        <div className=\"bg-[#1a1a1a] border border-gray-800 rounded-lg p-8 text-center\">\r\n          <UserCheck size={48} className=\"mx-auto text-gray-600 mb-4\" />\r\n          <p className=\"text-gray-400 text-lg\">No active bans found</p>\r\n          {filters.searchTerm && (\r\n            <p className=\"text-gray-500 text-sm mt-2\">\r\n              <SecureMessageDisplay content={`Try adjusting your search terms or filters`} allowBasicFormatting={false} />\r\n            </p>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {filteredBans.map((ban) => (\r\n            <BanCard\r\n              key={ban.id}\r\n              ban={ban}\r\n              isExpanded={expandedBans.has(ban.id)}\r\n              onToggleExpand={onToggleExpand}\r\n              onUnban={onUnban}\r\n              onReviewAppeal={onReviewAppeal}\r\n              onShowEvidence={onShowEvidence}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 802, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/user-check.js","sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/node_modules/lucide-react/src/icons/user-check.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['polyline', { points: '16 11 18 13 22 9', key: '1pwet4' }],\n];\n\n/**\n * @component @name UserCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNiAxMSAxOCAxMyAyMiA5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/user-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserCheck = createLucideIcon('user-check', __iconNode);\n\nexport default UserCheck;\n"],"names":[],"mappings":";;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAuB,CAAA,CAAA,CAAA,CAAA;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA6C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IAC1E;QAAC,QAAU,CAAA;QAAA,CAAA;YAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAK,CAAI,CAAA,CAAA,CAAA,GAAA,CAAK;YAAA,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA;YAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAS;KAAA,CAAA;IACrD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAY,CAAA;QAAA,CAAA;YAAE,QAAQ,CAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC5D,CAAA;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,SAAA,CAAY,CAAA,2KAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAiB,AAAjB,CAAA,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/src/components/admin/bans/HistoryContent.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { FileText } from 'lucide-react';\r\nimport { BanHistoryEntry, FilterOptions } from '@/types/ban';\r\nimport { sanitizeSearchQuery } from '@/utils/security/sanitization';\r\nimport { SecureMessageDisplay } from '@/components/ui/SecureMessageDisplay';\r\n\r\ninterface HistoryContentProps {\r\n  banHistory: BanHistoryEntry[];\r\n  filters: FilterOptions;\r\n}\r\n\r\nexport default function HistoryContent({ banHistory, filters }: HistoryContentProps) {\r\n  const sanitizedSearchTerm = filters.searchTerm ? sanitizeSearchQuery(filters.searchTerm).toLowerCase() : '';\r\n\r\n  const filteredHistory = (banHistory || [])\r\n    .filter((entry) => {\r\n      if (!entry || !entry.username) return false;\r\n      return sanitizedSearchTerm\r\n        ? entry.username.toLowerCase().includes(sanitizedSearchTerm) ||\r\n            (entry.details && entry.details.toLowerCase().includes(sanitizedSearchTerm))\r\n        : true;\r\n    })\r\n    .sort((a, b) => {\r\n      const timeA = a.timestamp ? new Date(a.timestamp).getTime() : 0;\r\n      const timeB = b.timestamp ? new Date(b.timestamp).getTime() : 0;\r\n      return timeB - timeA;\r\n    })\r\n    .slice(0, 50);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h2 className=\"text-xl font-semibold text-white mb-4\">Ban History ({(banHistory || []).length})</h2>\r\n      {filteredHistory.length === 0 ? (\r\n        <div className=\"bg-[#1a1a1a] border border-gray-800 rounded-lg p-8 text-center\">\r\n          <FileText size={48} className=\"mx-auto text-gray-600 mb-4\" />\r\n          <p className=\"text-gray-400 text-lg\">No ban history found</p>\r\n          <p className=\"text-gray-500 text-sm mt-2\">Ban actions will appear here as they occur</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-2\">\r\n          {filteredHistory\r\n            .map((entry) => {\r\n              if (!entry || !entry.id) return null;\r\n\r\n              const actionClass =\r\n                entry.action === 'banned'\r\n                  ? 'bg-red-900/20 text-red-400'\r\n                  : entry.action === 'unbanned'\r\n                  ? 'bg-green-900/20 text-green-400'\r\n                  : entry.action === 'appeal_submitted'\r\n                  ? 'bg-orange-900/20 text-orange-400'\r\n                  : entry.action === 'appeal_approved'\r\n                  ? 'bg-blue-900/20 text-blue-400'\r\n                  : entry.action === 'appeal_rejected'\r\n                  ? 'bg-red-900/20 text-red-400'\r\n                  : 'bg-gray-900/20 text-gray-400';\r\n\r\n              return (\r\n                <div\r\n                  key={entry.id}\r\n                  className=\"bg-[#1a1a1a] border border-gray-800 rounded-lg p-4 hover:border-gray-700 transition-colors\"\r\n                >\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-3 mb-1\">\r\n                        <span className=\"font-medium text-white\">\r\n                          <SecureMessageDisplay content={entry.username || 'Unknown'} allowBasicFormatting={false} />\r\n                        </span>\r\n                        <span className={`px-2 py-1 text-xs rounded font-medium ${actionClass}`}>\r\n                          {(entry.action || 'unknown').replace('_', ' ').toUpperCase()}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"text-sm text-gray-300 mb-1\">\r\n                        <SecureMessageDisplay content={entry.details || 'No details available'} allowBasicFormatting={false} maxLength={200} />\r\n                      </div>\r\n                      <div className=\"text-xs text-gray-500\">\r\n                        {entry.timestamp ? new Date(entry.timestamp).toLocaleString() : 'Unknown time'} by{' '}\r\n                        <SecureMessageDisplay content={entry.adminUsername || 'Unknown admin'} allowBasicFormatting={false} className=\"inline\" />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n            .filter((entry) => entry !== null)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AALA;;;;;AAYe,SAAS,eAAe,KAA4C;QAA5C,EAAE,UAAU,EAAE,OAAO,EAAuB,GAA5C;IACrC,MAAM,sBAAsB,QAAQ,UAAU,GAAG,CAAA,GAAA,2IAAA,CAAA,sBAAmB,AAAD,EAAE,QAAQ,UAAU,EAAE,WAAW,KAAK;IAEzG,MAAM,kBAAkB,CAAC,cAAc,EAAE,EACtC,MAAM,CAAC,CAAC;QACP,IAAI,CAAC,SAAS,CAAC,MAAM,QAAQ,EAAE,OAAO;QACtC,OAAO,sBACH,MAAM,QAAQ,CAAC,WAAW,GAAG,QAAQ,CAAC,wBACnC,MAAM,OAAO,IAAI,MAAM,OAAO,CAAC,WAAW,GAAG,QAAQ,CAAC,uBACzD;IACN,GACC,IAAI,CAAC,CAAC,GAAG;QACR,MAAM,QAAQ,EAAE,SAAS,GAAG,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK;QAC9D,MAAM,QAAQ,EAAE,SAAS,GAAG,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK;QAC9D,OAAO,QAAQ;IACjB,GACC,KAAK,CAAC,GAAG;IAEZ,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;oBAAwC;oBAAc,CAAC,cAAc,EAAE,EAAE,MAAM;oBAAC;;;;;;;YAC7F,gBAAgB,MAAM,KAAK,kBAC1B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,iNAAA,CAAA,WAAQ;wBAAC,MAAM;wBAAI,WAAU;;;;;;kCAC9B,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;qCAG5C,6LAAC;gBAAI,WAAU;0BACZ,gBACE,GAAG,CAAC,CAAC;oBACJ,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,EAAE,OAAO;oBAEhC,MAAM,cACJ,MAAM,MAAM,KAAK,WACb,+BACA,MAAM,MAAM,KAAK,aACjB,mCACA,MAAM,MAAM,KAAK,qBACjB,qCACA,MAAM,MAAM,KAAK,oBACjB,iCACA,MAAM,MAAM,KAAK,oBACjB,+BACA;oBAEN,qBACE,6LAAC;wBAEC,WAAU;kCAEV,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAK,WAAU;0DACd,cAAA,6LAAC,mJAAA,CAAA,uBAAoB;oDAAC,SAAS,MAAM,QAAQ,IAAI;oDAAW,sBAAsB;;;;;;;;;;;0DAEpF,6LAAC;gDAAK,WAAW,AAAC,yCAAoD,OAAZ;0DACvD,CAAC,MAAM,MAAM,IAAI,SAAS,EAAE,OAAO,CAAC,KAAK,KAAK,WAAW;;;;;;;;;;;;kDAG9D,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC,mJAAA,CAAA,uBAAoB;4CAAC,SAAS,MAAM,OAAO,IAAI;4CAAwB,sBAAsB;4CAAO,WAAW;;;;;;;;;;;kDAElH,6LAAC;wCAAI,WAAU;;4CACZ,MAAM,SAAS,GAAG,IAAI,KAAK,MAAM,SAAS,EAAE,cAAc,KAAK;4CAAe;4CAAI;0DACnF,6LAAC,mJAAA,CAAA,uBAAoB;gDAAC,SAAS,MAAM,aAAa,IAAI;gDAAiB,sBAAsB;gDAAO,WAAU;;;;;;;;;;;;;;;;;;;;;;;uBAlB/G,MAAM,EAAE;;;;;gBAwBnB,GACC,MAAM,CAAC,CAAC,QAAU,UAAU;;;;;;;;;;;;AAKzC;KA9EwB","debugId":null}}]
}
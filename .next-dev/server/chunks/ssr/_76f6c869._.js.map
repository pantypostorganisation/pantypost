{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/src/utils/banUtils.tsx"],"sourcesContent":["// src/utils/banUtils.tsx\r\nimport { \r\n  AlertTriangle, \r\n  MessageSquare, \r\n  AlertCircle, \r\n  UserCheck, \r\n  Info \r\n} from 'lucide-react';\r\nimport { BanEntry, BanReason } from '@/types/ban';\r\nimport { sanitizeStrict } from '@/utils/security/sanitization';\r\n\r\nexport const getBanReasonDisplay = (reason: string, customReason?: string) => {\r\n  if (!reason || typeof reason !== 'string') {\r\n    return 'Unknown Reason';\r\n  }\r\n\r\n  const reasonMap: Record<string, { label: string, icon: any, color: string }> = {\r\n    harassment: { label: 'Harassment', icon: AlertTriangle, color: 'text-red-400' },\r\n    spam: { label: 'Spam', icon: MessageSquare, color: 'text-yellow-400' },\r\n    inappropriate_content: { label: 'Inappropriate Content', icon: AlertCircle, color: 'text-orange-400' },\r\n    scam: { label: 'Scam/Fraud', icon: AlertTriangle, color: 'text-red-500' },\r\n    underage: { label: 'Underage', icon: UserCheck, color: 'text-purple-400' },\r\n    payment_fraud: { label: 'Payment Fraud', icon: AlertTriangle, color: 'text-red-600' },\r\n    other: { label: 'Other', icon: Info, color: 'text-gray-400' }\r\n  };\r\n\r\n  const reasonInfo = reasonMap[reason.toLowerCase()] || { label: reason, icon: Info, color: 'text-gray-400' };\r\n  const Icon = reasonInfo.icon;\r\n\r\n  // Sanitize customReason before display to prevent XSS\r\n  const sanitizedCustomReason = customReason ? sanitizeStrict(customReason) : undefined;\r\n\r\n  return (\r\n    <span className={`flex items-center gap-1 ${reasonInfo.color}`}>\r\n      <Icon size={14} />\r\n      {reasonInfo.label}\r\n      {sanitizedCustomReason && <span className=\"text-gray-400 ml-1\">- {sanitizedCustomReason}</span>}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport const isValidBan = (ban: any): ban is BanEntry => {\r\n  return ban && \r\n         typeof ban === 'object' && \r\n         ban.id && \r\n         ban.username && \r\n         typeof ban.username === 'string' &&\r\n         ban.banType &&\r\n         ban.reason &&\r\n         ban.startTime &&\r\n         typeof ban.bannedBy === 'string'; // Changed to check type instead of truthiness\r\n};\r\n"],"names":[],"mappings":"AAAA,yBAAyB;;;;;;AACzB;AAAA;AAAA;AAAA;AAAA;AAQA;;;;AAEO,MAAM,sBAAsB,CAAC,QAAgB;IAClD,IAAI,CAAC,UAAU,OAAO,WAAW,UAAU;QACzC,OAAO;IACT;IAEA,MAAM,YAAyE;QAC7E,YAAY;YAAE,OAAO;YAAc,MAAM,wNAAA,CAAA,gBAAa;YAAE,OAAO;QAAe;QAC9E,MAAM;YAAE,OAAO;YAAQ,MAAM,wNAAA,CAAA,gBAAa;YAAE,OAAO;QAAkB;QACrE,uBAAuB;YAAE,OAAO;YAAyB,MAAM,oNAAA,CAAA,cAAW;YAAE,OAAO;QAAkB;QACrG,MAAM;YAAE,OAAO;YAAc,MAAM,wNAAA,CAAA,gBAAa;YAAE,OAAO;QAAe;QACxE,UAAU;YAAE,OAAO;YAAY,MAAM,gNAAA,CAAA,YAAS;YAAE,OAAO;QAAkB;QACzE,eAAe;YAAE,OAAO;YAAiB,MAAM,wNAAA,CAAA,gBAAa;YAAE,OAAO;QAAe;QACpF,OAAO;YAAE,OAAO;YAAS,MAAM,kMAAA,CAAA,OAAI;YAAE,OAAO;QAAgB;IAC9D;IAEA,MAAM,aAAa,SAAS,CAAC,OAAO,WAAW,GAAG,IAAI;QAAE,OAAO;QAAQ,MAAM,kMAAA,CAAA,OAAI;QAAE,OAAO;IAAgB;IAC1G,MAAM,OAAO,WAAW,IAAI;IAE5B,sDAAsD;IACtD,MAAM,wBAAwB,eAAe,CAAA,GAAA,wIAAA,CAAA,iBAAc,AAAD,EAAE,gBAAgB;IAE5E,qBACE,8OAAC;QAAK,WAAW,CAAC,wBAAwB,EAAE,WAAW,KAAK,EAAE;;0BAC5D,8OAAC;gBAAK,MAAM;;;;;;YACX,WAAW,KAAK;YAChB,uCAAyB,8OAAC;gBAAK,WAAU;;oBAAqB;oBAAG;;;;;;;;;;;;;AAGxE;AAEO,MAAM,aAAa,CAAC;IACzB,OAAO,OACA,OAAO,QAAQ,YACf,IAAI,EAAE,IACN,IAAI,QAAQ,IACZ,OAAO,IAAI,QAAQ,KAAK,YACxB,IAAI,OAAO,IACX,IAAI,MAAM,IACV,IAAI,SAAS,IACb,OAAO,IAAI,QAAQ,KAAK,UAAU,8CAA8C;AACzF","debugId":null}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/src/components/admin/bans/AppealsContent.tsx"],"sourcesContent":["// src/components/admin/bans/AppealsContent.tsx\r\n'use client';\r\n\r\nimport { MessageSquare, Infinity as InfinityIcon } from 'lucide-react';\r\nimport { BanEntry } from '@/types/ban';\r\nimport { isValidBan, getBanReasonDisplay } from '@/utils/banUtils';\r\nimport { SecureMessageDisplay } from '@/components/ui/SecureMessageDisplay';\r\n\r\ninterface AppealsContentProps {\r\n  pendingAppeals: BanEntry[];\r\n  onReviewAppeal: (ban: BanEntry) => void;\r\n  onShowEvidence: (evidence: string[]) => void;\r\n}\r\n\r\nconst formatRemainingTime = (ban: BanEntry) => {\r\n  if (!ban || typeof ban !== 'object') return 'Unknown';\r\n\r\n  if (ban.banType === 'permanent') {\r\n    return (\r\n      <span className=\"flex items-center gap-1\">\r\n        <InfinityIcon size={14} /> Permanent\r\n      </span>\r\n    );\r\n  }\r\n\r\n  if (!ban.remainingHours || ban.remainingHours <= 0) {\r\n    return <span className=\"text-gray-500\">Expired</span>;\r\n  }\r\n\r\n  const hours = Number(ban.remainingHours);\r\n  if (hours < 1) {\r\n    const minutes = Math.ceil(hours * 60);\r\n    return <span className=\"text-yellow-400\">{minutes}m remaining</span>;\r\n  }\r\n\r\n  if (hours < 24) {\r\n    return <span className=\"text-orange-400\">{Math.ceil(hours)}h remaining</span>;\r\n  }\r\n\r\n  const days = Math.floor(hours / 24);\r\n  const remainingHours = Math.ceil(hours % 24);\r\n  return (\r\n    <span className=\"text-red-400\">\r\n      {days}d {remainingHours}h remaining\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default function AppealsContent({\r\n  pendingAppeals,\r\n  onReviewAppeal,\r\n  onShowEvidence,\r\n}: AppealsContentProps) {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <h2 className=\"text-xl font-semibold text-white mb-4\">\r\n        Pending Appeals ({pendingAppeals.length})\r\n      </h2>\r\n\r\n      {pendingAppeals.length === 0 ? (\r\n        <div className=\"bg-[#1a1a1a] border border-gray-800 rounded-lg p-8 text-center\">\r\n          <MessageSquare size={48} className=\"mx-auto text-gray-600 mb-4\" />\r\n          <p className=\"text-gray-400 text-lg\">No pending appeals</p>\r\n          <p className=\"text-gray-500 text-sm mt-2\">\r\n            All appeals have been processed or no appeals have been submitted\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"space-y-4\">\r\n          {pendingAppeals\r\n            .map((ban) => {\r\n              if (!isValidBan(ban)) return null;\r\n\r\n              // Build a definite string[] for evidence, with runtime filtering\r\n              const evidenceList: string[] = Array.isArray(ban.appealEvidence)\r\n                ? ban.appealEvidence.filter((x): x is string => typeof x === 'string')\r\n                : [];\r\n              const hasEvidence = evidenceList.length > 0;\r\n\r\n              return (\r\n                <div key={ban.id} className=\"bg-[#1a1a1a] border border-orange-800 rounded-lg p-6\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-3 mb-3\">\r\n                        <h3 className=\"text-lg font-semibold text-white\">\r\n                          <SecureMessageDisplay content={ban.username} allowBasicFormatting={false} />\r\n                        </h3>\r\n                        <span className=\"px-2 py-1 bg-orange-900/20 text-orange-400 text-xs rounded font-medium\">\r\n                          Appeal {ban.appealStatus || 'Pending'}\r\n                        </span>\r\n                      </div>\r\n\r\n                      <div className=\"bg-orange-900/10 border border-orange-800 rounded-lg p-4 mb-3\">\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <div className=\"text-sm text-orange-400 font-medium\">Appeal Message:</div>\r\n\r\n                          {hasEvidence && (\r\n                            <button\r\n                              onClick={() => onShowEvidence(evidenceList)}\r\n                              className=\"text-xs text-blue-400 hover:text-blue-300 flex items-center gap-1 transition-colors\"\r\n                            >\r\n                              <span className=\"w-3 h-3 bg-blue-400 rounded\" />\r\n                              {evidenceList.length} Evidence File{evidenceList.length !== 1 ? 's' : ''}\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n\r\n                        <div className=\"text-sm text-gray-300 mb-2\">\r\n                          <SecureMessageDisplay\r\n                            content={ban.appealText || 'No appeal text provided'}\r\n                            allowBasicFormatting={false}\r\n                            maxLength={500}\r\n                          />\r\n                        </div>\r\n\r\n                        <div className=\"text-xs text-gray-500\">\r\n                          Submitted:{' '}\r\n                          {ban.appealDate ? new Date(ban.appealDate).toLocaleString() : 'Unknown'}\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"text-sm text-gray-400 mb-2\">\r\n                        <span>Original ban reason: </span>\r\n                        <span className=\"text-gray-300\">{getBanReasonDisplay(ban.reason, ban.customReason)}</span>\r\n                      </div>\r\n\r\n                      <div className=\"text-sm text-gray-400\">\r\n                        <span>Ban type: </span>\r\n                        <span className=\"text-gray-300\">\r\n                          {ban.banType} (\r\n                          {ban.banType === 'permanent' ? 'Permanent' : formatRemainingTime(ban)})\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex flex-col gap-2 ml-4\">\r\n                      <button\r\n                        onClick={() => onReviewAppeal(ban)}\r\n                        className=\"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700 flex items-center transition-colors\"\r\n                      >\r\n                        <MessageSquare size={12} className=\"mr-1\" />\r\n                        Review Appeal\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n            .filter(Boolean)}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/user-check.js","sources":["file:///C:/Users/gerom/OneDrive/Documents/pantypost/node_modules/lucide-react/src/icons/user-check.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['polyline', { points: '16 11 18 13 22 9', key: '1pwet4' }],\n];\n\n/**\n * @component @name UserCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNiAxMSAxOCAxMyAyMiA5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/user-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserCheck = createLucideIcon('user-check', __iconNode);\n\nexport default UserCheck;\n"],"names":[],"mappings":";;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAuB,CAAA,CAAA,CAAA,CAAA;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAA6C,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IAC1E;QAAC,QAAU,CAAA;QAAA,CAAA;YAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAK,CAAI,CAAA,CAAA,CAAA,GAAA,CAAK;YAAA,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA;YAAK,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAS;KAAA,CAAA;IACrD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAY,CAAA;QAAA,CAAA;YAAE,QAAQ,CAAoB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC5D,CAAA;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,SAAA,CAAY,CAAA,wKAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAiB,AAAjB,CAAA,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAU,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA","debugId":null}}]
}